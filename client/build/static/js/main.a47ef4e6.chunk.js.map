{"version":3,"sources":["services/api.js","components/global/Menu.js","components/global/AboutUs.js","components/auth/Login.js","components/auth/Signup.js","components/auth/Logout.js","components/global/Home.js","components/explore/Filters.js","components/explore/GemOnMap.js","components/explore/GemDetails.js","components/explore/MapGems.js","components/explore/ExplorePlaces.js","components/profile/UpdateProfile.js","components/explore/PolyLineOverlay.js","components/explore/GemForTrip.js","components/explore/TripDetails.js","components/create/SuggestGem.js","components/create/SetGem.js","components/create/GemWelcome.js","components/create/AddExperience.js","components/create/AddDiscovery.js","components/create/GemSuccess.js","components/create/AddToTrip.js","components/create/AddGemToTrip.js","components/create/GemList.js","components/create/CreateGem.js","components/global/NotFound.js","components/profile/ShowProfileNew.js","App.js","serviceWorker.js","index.js"],"names":["signup","username","password","axios","post","then","response","data","catch","err","login","logout","delete","pushGem","gemInfos","console","log","pushTrip","tripInfos","requestTrips","creatorid","param","get","updateTrip","updatedTrip","gemsVisited","existingGems","gemId","selectedTrip","put","updatedtrip","specificGems","Menu","handleLogout","props","setUser","history","push","this","state","Navbar","bg","variant","Brand","href","Nav","className","NavDropdown","title","id","Item","user","_id","Divider","onClick","React","Component","AboutUs","Login","message","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","Form","onSubmit","Group","Label","htmlFor","Control","type","onChange","Alert","Button","Signup","Logout","quote","author","resonse","n","Home","componentDidMount","width","height","viewBox","fill","xmlns","xmlnsXlink","filter","d","x","y","filterUnits","color-interpolation-filters","flood-opacity","result","in","stdDeviation","in2","operator","mode","patternContentUnits","xlinkHref","transform","role","to","Filters","displayFilters","gemsData","filterStatus","selectedOption","handleSelectChange","handleFilterSubmit","defaultValue","userFilter","options","userFilterOptions","checked","showGems","handleFilterChange","showTrips","dateStart","dateEnd","foodDrinks","cultureArts","sports","party","hikes","nature","other","GemOnMap","latitude","longitude","captureClick","draggable","offsetTop","offsetLeft","openPopup","src","alt","GemDetails","currentGemData","currentGemIndex","experienceGemData","creatorData","fromProfile","getGemData","getCreatorData","getExperienceGemData","match","params","resp","handleLike","likes","userId","includes","splice","indexOf","getGemExperience","newGemIndex","length","newGemData","gem","status","error","creator","creatorId","liked","likeClass","imageUrl","discovery","class","locationName","substring","description","goodToKnow","others","category","created_at","slice","closeDetails","MapGems","viewport","zoom","gemSelectedInfo","displayDetails","gemData","openDetails","setUserLocation","navigator","geolocation","getCurrentPosition","position","userLocation","lat","coords","long","onGeocontrolSelected","item","marker","renderPopup","categoryRender","tipSize","anchor","closeButton","closeOnClick","onClose","style","color","gemsToRender","gems","map","key","onViewportChange","mapboxApiAccessToken","process","mapStyle","captureDoubleClick","doubleClickZoom","right","top","backgroundColor","toggleFilters","left","onSelected","hideOnSelect","label","ExplorePlaces","gemsToDisplay","getGemsData","filterGems","foundGems","gemsFiltered","UpdateProfile","profilePic","travelInterests","files","uploadData","FormData","append","secure_url","patch","directProfile","FormControl","InputLabel","Input","placeholder","startAdornment","InputAdornment","TextField","multiline","rows","size","margin","PolyLineOverlay","_redraw","ctx","isDragging","project","unproject","points","lineWidth","renderWhileDragging","clearRect","globalCompositeOperation","strokeStyle","beginPath","forEach","point","pixel","lineTo","stroke","redraw","coordinates","addToTrip","TripDetails","tripStages","addTripStage","coord","currentStages","getSimpleRoute","GemForTrip","SuggestGem","suggestGemsData","newdata","count","split","element","handleRouteExperience","val","fetchGemInfo","setStage","handleRouteDiscovery","SetGem","bearing","pitch","markerClicked","features","place_name","handleViewportChange","onDblClick","lngLat","onDragEnd","GemWelcome","AddExperience","isEnabled","nopic","handleChanges","visitedDate","setTimeout","checkStatus","noPicProceed","createGem","persist","required","as","disabled","AddDiscovery","GemSuccess","handleRoute","shareUrl","FacebookShareButton","url","FacebookIcon","round","WhatsappShareButton","WhatsappIcon","EmailShareButton","EmailIcon","aria-hidden","AddToTrip","formStatus","trips","fetchTripInfos","createTrip","selectTrip","toogleForm","AddGemToTrip","availableGems","GemsInTripIncluded","undefined","TripInfos","allGems","updateGemStatus","tripName","saveGemsInTrip","CreateGem","stage","trip","tripId","addedGems","consider","pushObj","fetchTripInfo","getTrips","tripid","selectedGem","gemArray","gemid","addedGemcopy","changeStage","NotFound","Profile","popularGems","discoveries","experiences","creatorProfileId","profileId","ownprofile","isFollowing","creatorInfos","followers","getpopularGems","following","displayPopularGems","Carousel","Caption","fontWeight","new","updatedfollow","handleFollowClick","App","setUserProfile","userid","creatorProfile","exact","path","render","component","referredbyProfile","Boolean","window","location","hostname","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a47ef4e6.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst signup = (username, password) => {\n  return axios\n    .post(\"/api/auth/signup\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst login = (username, password) => {\n  return axios\n    .post(\"/api/auth/login\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst logout = () => {\n  return axios\n    .delete(\"/api/auth/logout\")\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst getQuote = () => {\n  return axios\n    .get(\"/api/wisdom\")\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.resonse.data;\n    });\n};\n\nconst pushGem = (gemInfos) => {\n  return axios\n    .post(\"/api/gem/create\", gemInfos)\n    .then((response) => {\n      console.log(\"Here is the new gem\", response.data);\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst pushTrip = (tripInfos) => {\n  return axios\n    .post(\"/api/trip/create\", tripInfos)\n    .then((response) => {\n      console.log(\"Here is the new trip\", response.data);\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst requestTrips = (creatorid) => {\n  const param = creatorid;\n  console.log(\"Check Param\", param);\n  return axios\n    .get(`/api/trip/${param}`)\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst updateTrip = (updatedTrip) => {\n  console.log(\n    \"Updated Trip to pass to function which makes axios call object:\",\n    updatedTrip\n  );\n  let gemsVisited = updatedTrip.existingGems;\n  let gemId = updatedTrip.selectedTrip;\n  return axios\n    .put(\"/api/trip/update\", { gemsVisited, gemId })\n    .then((updatedtrip) => {\n      console.log(\"Received Data from server back frontend\", updatedtrip);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nconst specificGems = (creatorid) => {\n  const param = creatorid;\n  return axios\n    .get(`/api/gem/creator/${param}`)\n    .then((response) => {\n      console.log(\"Got data from Axios call\", response.data);\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nexport {\n  signup,\n  login,\n  logout,\n  getQuote,\n  pushGem,\n  requestTrips,\n  pushTrip,\n  specificGems,\n  updateTrip\n};\n","import React from \"react\";\nimport { NavDropdown,Navbar,Nav } from \"react-bootstrap\";\nimport { logout } from \"../../services/api\";\n\nclass Menu extends React.Component {\n\n  handleLogout = props => {\n    console.log(\"LOGOUT PROPS: \", props);\n    logout().then(() => {\n      this.props.setUser(null);\n      this.props.history.push(\"/logout\");\n    });\n  };\n\n  render() {\n    console.log(\"Menu state: \", this.state);\n    console.log(\"Menu props: \", this.props);\n    return (\n      <Navbar bg=\"light\" variant=\"light\">\n        <Navbar.Brand href=\"#home\">GemBox</Navbar.Brand>\n      <Nav className=\"mr-auto\">\n      <NavDropdown title=\"â˜°\" id=\"collasible-nav-dropdown\">\n        <NavDropdown.Item href=\"/\">Home</NavDropdown.Item>\n        <NavDropdown.Item href=\"/explore-places\">Explore places</NavDropdown.Item>\n        {this.props.user ? (\n          <>\n            <NavDropdown.Item href=\"/create-gem\">Create Gem</NavDropdown.Item>\n            <NavDropdown.Item href={this.props.user?\"/profile/\"+this.props.user._id:\"/\"}>Profile</NavDropdown.Item>\n            <NavDropdown.Divider />\n            <NavDropdown.Item onClick={this.handleLogout}>Logout</NavDropdown.Item>\n          </>\n        ) : (\n          <>\n            <NavDropdown.Item href=\"/login\">Login</NavDropdown.Item>\n            <NavDropdown.Item href=\"/signup\">Signup</NavDropdown.Item>\n          </>\n        )}\n        </NavDropdown>\n        </Nav>\n      </Navbar>\n    );\n  }\n}\n\nexport default Menu;\n","import React, { Component } from 'react'\n\nexport default class AboutUs extends Component {\n  render() {\n    return (\n      <div>\n        This is About Us\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { login } from \"../../services/api\";\n\nexport default class Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\"\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { username, password } = this.state;\n\n    login(username, password).then(data => {\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: \"\",\n          password: \"\"\n        });\n      } else {\n        // successfully signed up\n        // update the state for the parent component\n        console.log(data);\n        this.props.setUser(data);\n        this.props.history.push(\"/explore-places\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <h2>Login</h2>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n            <Form.Label htmlFor=\"username\">User Name: </Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"username\"\n              value={this.state.username}\n              onChange={this.handleChange}\n              id=\"username\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"password\">Password: </Form.Label>\n            <Form.Control\n              type=\"password\"\n              name=\"password\"\n              value={this.state.password}\n              onChange={this.handleChange}\n              id=\"password\"\n            />\n          </Form.Group>\n          {this.state.message && (\n            <Alert variant=\"danger\">{this.state.message}</Alert>\n          )}\n          <Button type=\"submit\">Login</Button>\n        </Form>\n        <a href=\"http://localhost:5555/api/auth/google\">\n          <button>Login with Google</button>\n        </a>\n        <a href=\"http://localhost:5555/api/auth/facebook\">\n          <button>Login with Facebook</button>\n        </a>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { signup } from \"../../services/api\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Signup extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\"\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { username, password } = this.state;\n\n    // usernameToProfile = (this.state.username)=>{\n    //   [username]\n    // };\n\n    signup(username, password).then(data => {\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: \"\",\n          password: \"\"\n        });\n      } else {\n        // successfully signed up\n        // update the state for the parent component\n        this.props.setUser(data);\n        this.props.history.push(\"/profile\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <h2>Signup</h2>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n            <Form.Label htmlFor=\"username\">User Name: </Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"username\"\n              value={this.state.username}\n              onChange={this.handleChange}\n              id=\"username\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"password\">Password: </Form.Label>\n            <Form.Control\n              type=\"password\"\n              name=\"password\"\n              value={this.state.password}\n              onChange={this.handleChange}\n              id=\"password\"\n            />\n          </Form.Group>\n          {this.state.message && (\n            <Alert variant=\"danger\">{this.state.message}</Alert>\n          )}\n          <Button type=\"submit\">Signup</Button>\n        </Form>\n        <a href=\"http://localhost:5555/api/auth/google\">\n          <button>Sign in Google</button>\n        </a>\n        <a href=\"http://localhost:5555/api/auth/facebook\">\n          <button>Sign in with Facebook</button>\n        </a>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport { getQuote } from \"../../services/api\";\n\nexport default class Logout extends React.Component {\n  state = {\n    quote: \"\",\n    author: \"\"\n  };\n\n  componentDidMount() {\n    getQuote().then((n) => {\n      console.log(n);\n      this.setState({\n        quote: n.quote,\n        author: n.author\n      });\n    });\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <div>\n        <div className=\"wrapper\">\n          <div className=\"header-box\">\n            <h1>Happy Travel my Friend</h1>\n          </div>\n\n          <div className=\"wisdom\">\n            <div className=\"quote\">{this.state.quote}</div>\n            <div className=\"author\">- {this.state.author}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Alert } from \"react-bootstrap\";\nimport \"../../stylesheets/home.css\";\n\nclass Home extends Component {\n  state = {\n    user: null\n  };\n\n  componentDidMount = () => {\n    this.setState({\n      user: this.props.user\n    });\n  };\n\n  render() {\n    console.log(\"HOME PROPS: \", this.props);\n    return (\n      <div className=\"Landingpage\">\n        {/*   <div className=\"BrandGem\">Gem</div>\n        \n\n        <div className=\"BrandBox\">Box</div> */}\n        <svg\n          className=\"Logo\"\n          width=\"200\"\n          height=\"144\"\n          viewBox=\"0 0 200 144\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <g filter=\"url(#filter0_b)\">\n            <path\n              d=\"M57.4223 35.992V63.352C54.7983 64.888 51.4703 66.104 47.4383 67C43.4063 67.896 39.0223 68.344 34.2863 68.344C26.9263 68.344 20.7183 66.808 15.6623 63.736C10.6063 60.6 6.79825 56.44 4.23825 51.256C1.74225 46.072 0.49425 40.408 0.49425 34.264C0.49425 28.184 1.80625 22.584 4.43025 17.464C7.05425 12.28 10.9903 8.152 16.2383 5.08C21.5503 2.008 27.9503 0.471998 35.4383 0.471998C39.5343 0.471998 43.4063 1.112 47.0543 2.392C50.7663 3.608 53.9023 5.304 56.4623 7.48L52.9103 14.968C50.8623 13.112 48.3023 11.608 45.2303 10.456C42.1583 9.304 38.8943 8.72799 35.4383 8.72799C30.3823 8.72799 26.0303 9.848 22.3823 12.088C18.7983 14.328 16.0783 17.4 14.2223 21.304C12.3663 25.144 11.4383 29.496 11.4383 34.36C11.4383 39.288 12.3023 43.704 14.0303 47.608C15.8223 51.512 18.4143 54.584 21.8063 56.824C25.2623 59.064 29.4223 60.184 34.2863 60.184C38.7023 60.184 42.8943 59.704 46.8623 58.744V35.992H57.4223ZM115.108 59.032V67H74.0198V1.72H113.188V9.688H84.9638V28.504H109.348V36.472H84.9638V59.032H115.108ZM195.447 1.72V67H184.695V45.592L185.367 18.808L166.935 47.224H159.159L140.439 18.52L141.303 45.592V67H130.551V1.72H140.535L162.999 36.088L185.463 1.72H195.447Z\"\n              fill=\"#4BADB6\"\n            />\n          </g>\n          <path\n            d=\"M43.4545 109.536C48.1905 110.496 51.7745 112.448 54.2065 115.392C56.6385 118.272 57.8545 121.824 57.8545 126.048C57.8545 131.616 55.7425 136 51.5185 139.2C47.2945 142.4 41.1825 144 33.1825 144H10.2385V78.72H33.1825C40.2865 78.72 45.6945 80.128 49.4065 82.944C53.1185 85.76 54.9745 89.824 54.9745 95.136C54.9745 98.592 53.9825 101.6 51.9985 104.16C50.0785 106.72 47.2305 108.512 43.4545 109.536ZM21.1825 86.688V105.6H33.1825C36.6385 105.6 39.2945 104.8 41.1505 103.2C43.0705 101.536 44.0305 99.2 44.0305 96.192C44.0305 89.856 40.4145 86.688 33.1825 86.688H21.1825ZM33.1825 136.032C37.5345 136.032 40.8945 135.072 43.2625 133.152C45.6945 131.168 46.9105 128.384 46.9105 124.8C46.9105 121.024 45.7265 118.208 43.3585 116.352C41.0545 114.496 37.6625 113.568 33.1825 113.568H21.1825V136.032H33.1825ZM186.921 144L168.585 117.312L150.153 144H137.289L161.961 110.304L138.921 78.72H151.881L168.585 103.488L185.289 78.72H198.153L175.113 110.112L199.977 144H186.921Z\"\n            fill=\"#282727\"\n          />\n          <rect x=\"65\" y=\"72\" width=\"70\" height=\"72\" fill=\"url(#pattern0)\" />\n          <defs>\n            <filter\n              id=\"filter0_b\"\n              x=\"-3.50574\"\n              y=\"-3.52802\"\n              width=\"202.953\"\n              height=\"75.872\"\n              filterUnits=\"userSpaceOnUse\"\n              color-interpolation-filters=\"sRGB\"\n            >\n              <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n              <feGaussianBlur in=\"BackgroundImage\" stdDeviation=\"2\" />\n              <feComposite\n                in2=\"SourceAlpha\"\n                operator=\"in\"\n                result=\"effect1_backgroundBlur\"\n              />\n              <feBlend\n                mode=\"normal\"\n                in=\"SourceGraphic\"\n                in2=\"effect1_backgroundBlur\"\n                result=\"shape\"\n              />\n            </filter>\n            <pattern\n              id=\"pattern0\"\n              patternContentUnits=\"objectBoundingBox\"\n              width=\"1\"\n              height=\"1\"\n            >\n              <use\n                xlinkHref=\"#image0\"\n                transform=\"translate(-0.0142857) scale(0.0205714 0.02)\"\n              />\n            </pattern>\n            <image\n              id=\"image0\"\n              width=\"50\"\n              height=\"50\"\n              xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAFK0lEQVRoge2aXYhVVRTHf3dGZyZTNC0rgiQ0pkgiLTWmJiPUSCSsQH2olKKyCSyo7Msg+yINKuslsHDMCiyjIi2yEgwaH/qiiSx7KEhKjdIa89Z83dPDWru975597j3nnnvvJPiHw5yz1tprr33O3vu/9roDx3AM/yuMA/4CoipfR4AJ9RrEWKC7BoMwV7f2UVOMAnY6nW6PsWsGPlCbH/SKVNYc02a747cLGF21qD00Ae9qR4f17wMBu0bgNdUfAFqBycAvKnsLGBFot0r1f2IH3VLVEQSC+1Lv53h2OWC96v4Apjm6qcDvqtuoti7mqu5zigc9slqDaABeUceHgBlAHiggi97FWuyibQ/4moX9mus83VhgEPgbmA78pnavIy8yE3LA89hPPgO4QJ93e7b3q7wPuKKEzznAP2p7n6f7VuXnA+chLy4CNjD0C6aCecN5YLbKbnOcGyxX2SCwOIHfq4ABbXO7I+9UWYc+t2G3ef8LJsZqddALzHfkG1V+qxdUAbglhf9l2mYQWKKyDvXd6di5X/ChFP4BeUuRBrjI032nuuleJ/em7QSZWmY6zkemVIRMMRcLgX7V3ZPU+Q3ImyoAN3q6cdgF2U78wk2DNdjpexl2IznBs7tW+y5gZ0MsyhmbLXI/cFDvXyDbQsypj0h97tf7uQHbUi/5P7ifb2WMzYMUpxNvEia3tGgENnu+V8XYlpr2iRfUVqejj4hPNypBE/Ce4/+dErbBjagdIbBaJYG1vo4A7Q3Il8jMnMOIRmQMANyM3TmmxbUA7sBOq1phB0OJ0sdULFHe5CtfVMX3xJ8HxmCz03MzBFsqwALQUyaG3RrDppBBC/CZGrxN/Jb6rNqsrzzeWJhtOI6XckgSGQFfIeejICZhs867Y2ymIFyTB06sLN4gxiMLt4CcYUJYic3CJ5dzuAAJdIAwKQFsI5y9ZoHJnrfG6C9FeK6A5HeJ8Cj2EHVaQD9P9T9TnYPPCGAv8Yx+Cvaw9Ugaxw1YctqFkJUPU4BIkraXwxL19Q1D1+ZI4GPVf0gFVDEeWzR4JqA3Z5CutI4D2KW+QseAdar7CTip0g5mYlOX6zzdKOzGMLPSDrCp+0HgeE+3GJvmt2XoA5AsOEII6BxPZ06Qwf08IV5WH2s8eSuWs5Zn8F+EDepwD8VEdTqyk/QR3hTK4VQk8RsAznDko5H1EiGFj6qhBSnTREiJxl2QW1S+ugK/D2MrJQY5bOmpmxKkVymmYKsadzrydpX9SrqCWjP2EHWxI79LZT3AWRniLYkFCCH1Y6sqAJ9q50tT+Fqmbb5wZG3INC0AV2cJNAkexx53zbpYGgiqHMzgr9fnkxGCjYDHqhJpGTQA72M5pAmZJvtUFqow+rgEmzm0IMxuiuM7qOP5aALwo3b8lMrM8XNLgvZvUHysflqf95KB9CrFLCxZLgIm6rO/lfqYhKyxXiSHWoisiT7gohrGWxKmfHoYIctN+ry2RJsn1eYlikmvo0SbuqATS5Zm7h9iaLoBwgnmp4XZWNJ7tR6BlsNxyG4VIXWuLuLTCpPufIKtY31NeNDDgjORH3YibJF7D8UZQA571jY2PcDZdY00Aa7EkuUBJNB5jv5ybAbQq7bX1DnGxDAFaVPc3ubozO+PZnE/UffoUqAR++usKYa3IlNvUC9DetWoGdcUE7Hn7wgpHz3nPO9D0vejAhciBGeql3m976c40z0qsIKhBecVwxpRBrj/JbFzmGPJhDFI9TBPHf6/pNZoJb4EWjX8C2RUC1duuJhSAAAAAElFTkSuQmCC\"\n            />\n          </defs>\n        </svg>\n\n        <div className=\"Teaser\">\n          <div className=\"TeaserTextContainer\">\n            <div className=\"TeaserText\">\n              <p>Get inspired.</p>\n              <p>Find places.</p>\n              <p>Share discoveries.</p>\n            </div>\n          </div>\n        </div>\n        <>\n          <p>\n            <a\n              className=\"btn btn-primary btn-landingpage generalBtn-landing\"\n              href=\"/explore-places\"\n              role=\"button\"\n            >\n              Open the box\n            </a>\n          </p>\n\n          {!this.state.user && (\n            <div className=\"btn-signup-login\">\n              <p>\n                <Link className=\"btn btn-link btn-lp \" to=\"/Signup\">\n                  Join the community\n                </Link>\n              </p>\n              <p>\n                <Link className=\"btn btn-link btn-lp\" to=\"/Login\">\n                  Login\n                </Link>\n              </p>\n            </div>\n          )}\n        </>\n        {this.state.message && (\n          <Alert variant=\"danger\">{this.state.message}</Alert>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Button, Container, Row, Col } from \"react-bootstrap\";\nimport Select from \"react-select\";\nimport \"../../stylesheets/filters.css\";\n\n// const userFilterOptions = [\n//   { value: \"all\", label: \"All\" },\n//   { value: \"liked\", label: \"Liked\" },\n//   { value: \"mine\", label: \"Mine\" }\n// ];\n\nclass Filters extends Component {\n  state = {\n    displayFilters: false,\n    gemsData: null,\n    filterStatus: this.props.filterStatus,\n    selectedOption: null\n  };\n  handleSelectChange = selectedOption => {\n    this.setState({ selectedOption });\n    console.log(`Option selected:`, selectedOption);\n  };\n\n  render() {\n    const { selectedOption } = this.state;\n    return (\n      <div className=\"filters-block-wrapper\">\n        <div className=\"filters-block-inside\">\n          <h1>Filter by</h1>\n          <hr/>\n          <form onSubmit={this.props.handleFilterSubmit}>\n          <div className=\"inputs-container\">\n              <div className=\"inputs-col\">\n                <Select\n                  defaultValue=\"all\"\n                  value={this.props.filterStatus.userFilter}\n                  onChange={this.props.handleSelectChange}\n                  options={this.props.userFilterOptions}\n                />\n              </div>\n            </div>\n            <div className=\"inputs-container\">\n              <div className=\"inputs-col\">\n                <input\n                  type=\"checkbox\"\n                  name=\"showGems\"\n                  id=\"showGems\"\n                  checked={this.props.filterStatus.showGems}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"showGems\">Gems</label>\n              </div>\n              <div className=\"inputs-col\">\n                <input\n                  type=\"checkbox\"\n                  name=\"showTrips\"\n                  id=\"showTrips\"\n                  checked={this.props.filterStatus.showTrips}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"showTrips\">Trips</label>\n              </div>\n            </div>\n            <hr/>\n            <h2>Show by date</h2>\n            <div className=\"inputs-dates\">\n              <label htmlFor=\"dateStart\">From:</label>\n              <input\n                type=\"date\"\n                id=\"dateStart\"\n                name=\"dateStart\"\n                value={this.props.filterStatus.dateStart}\n                onChange={this.props.handleFilterChange}></input>\n            </div>\n            <div className=\"inputs-dates\">\n              <label htmlFor=\"dateStart\">To:</label>\n              <input\n                type=\"date\"\n                id=\"dateEnd\"\n                name=\"dateEnd\"\n                value={this.props.filterStatus.dateEnd}\n                onChange={this.props.handleFilterChange}></input>\n            </div>\n            <hr/>\n            <h2>Categories</h2>\n            <div className=\"inputs-container\">\n              <div className=\"inputs-col\">\n                <input\n                  type=\"checkbox\"\n                  name=\"foodDrinks\"\n                  id=\"foodDrinks\"\n                  checked={this.props.filterStatus.foodDrinks}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"foodDrinks\">Food & Drinks</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"cultureArts\"\n                  id=\"cultureArts\"\n                  checked={this.props.filterStatus.cultureArts}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"cultureArts\">Culture & Arts</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"sports\"\n                  id=\"sports\"\n                  checked={this.props.filterStatus.sports}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"sports\">Sports</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"party\"\n                  id=\"party\"\n                  checked={this.props.filterStatus.party}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"party\">Party</label>\n              </div>\n              <div className=\"inputs-col\">\n                <input\n                  type=\"checkbox\"\n                  name=\"hikes\"\n                  id=\"hikes\"\n                  checked={this.props.filterStatus.hikes}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"hikes\">Hikes</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"nature\"\n                  id=\"nature\"\n                  checked={this.props.filterStatus.nature}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"nature\">Nature</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"other\"\n                  id=\"other\"\n                  checked={this.props.filterStatus.other}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"other\">Other</label>\n              </div>\n            </div>\n            <hr/>\n            <Button className=\"btn btn-primary generalBtn\" type=\"submit\">\n              Apply & Close\n            </Button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Filters;\n","import React from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\n\nconst GemOnMap = props => {\n  return (\n    <div>\n      <Marker\n        latitude={props.data.latitude}\n        longitude={props.data.longitude}\n        captureClick={false}\n        draggable={false}\n        offsetTop={-30}\n        offsetLeft={-15}>\n        <div\n          className=\"gem-marker\"\n          onClick={() => {\n            props.openPopup(props.data);\n          }}>\n          <img src=\"/images/diamond-icon-green.png\" alt=\"Gem\" />\n        </div>\n      </Marker>\n    </div>\n  );\n};\n\nexport default GemOnMap;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport \"../../stylesheets/gemDetails.css\";\n\nexport default class GemDetails extends Component {\n  state = {\n    currentGemData: this.props.data,\n    currentGemIndex: 0,\n    experienceGemData: null,\n    creatorData: null,\n    fromProfile: this.props.fromProfile\n  };\n\n  componentDidMount = () => {\n    if (!this.state.currentGemData) this.getGemData();\n    if (this.state.currentGemData && !this.state.creatorData)\n      this.getCreatorData();\n    if (this.state.currentGemData&&!this.state.experienceGemData) this.getExperienceGemData();\n  };\n\n  getGemData = () => {\n    const gemId = this.props.match.params.gemId;\n    axios.get(`/api/gem/${gemId}`).then(resp => {\n      this.setState({\n        currentGemData: resp.data\n      });\n    });\n  };\n\n  handleLike = () => {\n    const likes = [...this.state.currentGemData.likes];\n    const userId = this.props.user._id;\n    if (!likes.includes(userId)) {\n      likes.push(this.props.user._id);\n    } else {\n      likes.splice(likes.indexOf(userId), 1);\n    }\n    const gemId = this.state.currentGemData._id;\n    axios.put(`/api/gem/${gemId}`, { likes }).then(response => {\n      console.log(response);\n      this.setState({\n        currentGemData: { ...response.data, likes: response.data.likes }\n      });\n    });\n  };\n\n  getGemExperience = event => {\n    const { currentGemIndex, experienceGemData } = this.state;\n    let newGemIndex = currentGemIndex;\n    if (event.target.name === \"previous\" && currentGemIndex > 0)\n      newGemIndex -= 1;\n    if (\n      event.target.name === \"next\" &&\n      currentGemIndex < experienceGemData.length - 1\n    )\n      newGemIndex += 1;\n    const newGemData = experienceGemData[newGemIndex];\n    this.setState({\n      currentGemIndex: newGemIndex,\n      currentGemData: newGemData\n    });\n  };\n\n  getExperienceGemData = () => {\n    axios\n      .get(`/api/gem/`)\n      .then(response => {\n        console.log(response);\n        const { latitude, longitude } = this.state.currentGemData;\n        const experienceGemData = response.data.filter(gem => {\n          return gem.latitude === latitude && gem.longitude === longitude;\n        });\n        this.setState({\n          experienceGemData\n        });\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.setState({ error: \"Not found\" });\n        }\n      });\n  };\n\n  getCreatorData = () => {\n    console.log(\"get creator data called\", this.state.currentGemData.creator);\n    const creatorId = this.state.currentGemData.creator;\n    axios\n      .get(`/api/user/${creatorId}`)\n      .then(response => {\n        console.log(response);\n        this.setState({\n          creatorData: response.data\n        });\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.setState({ error: \"Not found\" });\n        }\n      });\n  };\n\n  render() {\n    console.log(\"Creator data: \", this.state.creatorData);\n    if (!this.state.currentGemData) return <></>;\n    const profileLink = this.state.currentGemData\n      ? \"/profile/\" + this.state.currentGemData.creator\n      : \"#\";\n    const categoryStrings = {\n      foodDrinks: \"Food & Drinks\",\n      cultureArts: \"Culture & Arts\",\n      hikes: \"Hikes\",\n      nature: \"Nature & Sight\",\n      party: \"Party\",\n      sports: \"Sports\",\n      others: \"Others\"\n    };\n    const currentGemData = this.state.currentGemData;\n    if (!currentGemData) return <></>;\n    const liked =\n      this.props.user && currentGemData.likes.includes(this.props.user._id)\n        ? true\n        : false;\n    const likeClass = liked ? \"btn-unlike\" : \"btn-like\";\n    return (\n      <div className=\"gem-details page-wrapper \">\n        <h3 className=\"gem-title\">{currentGemData.title}</h3>\n\n        <img\n          className=\"gem-details-image\"\n          src={currentGemData.imageUrl}\n          alt=\"\"\n        />\n        <div className=\"flex-row-sides creatorDataOnGem\">\n          {this.state.creatorData && (\n            <p className=\"details-titles\">\n              {currentGemData.discovery ? (\n                <>\n                  <img\n                  className=\"gem-discovery-icon\"\n                    src=\"images/diamond-icon-gold.png\"\n                    alt=\"gem\"\n                    height=\"20px\"\n                  />{\" \"}\n                  Discovered\n                </>\n              ) : (\n                <>\n                  <img\n                  className=\"gem-discovery-icon\"\n                    src=\"images/diamond-icon-green.png\"\n                    alt=\"gem\"\n                    height=\"20px\"\n                  />{\" \"}\n                  Experienced\n                </>\n              )}{\" \"}\n              by <a href={`/profile/${this.state.creatorData._id}`}>{this.state.creatorData.username}</a>\n            </p>\n          )}\n          <div>\n            {this.props.user ? (\n              <span className={likeClass} onClick={() => this.handleLike()}>\n                {liked ? (\n                  <>\n                    <i class=\"fas fa-heart\"></i> {currentGemData.likes.length}\n                  </>\n                ) : (\n                  <>\n                    <i class=\"far fa-heart\"></i> {currentGemData.likes.length}\n                  </>\n                )}\n              </span>\n            ) : (\n              <>Likes: {currentGemData.likes.length}</>\n            )}\n          </div>\n        </div>\n        {this.state.experienceGemData &&\n          this.state.experienceGemData.length > 1 && (\n            <div className=\"flex-row-sides\">\n              <button\n                className=\"btn-previous\"\n                name=\"previous\"\n                onClick={this.getGemExperience}>\n                <i class=\"fa fa-chevron-left\"></i> Previous\n              </button>\n              <button\n                className=\"btn-next\"\n                name=\"next\"\n                onClick={this.getGemExperience}>\n                Next <i class=\"fa fa-chevron-right\"></i>\n              </button>\n            </div>\n          )}\n        <div className=\"gem-details-info\">\n          <div className=\"flex-row-sides\">\n            {currentGemData.locationName && (\n              <p>{currentGemData.locationName.substring(0, 30)}...</p>\n            )}\n          </div>\n\n          <div className=\"gem-divs\">\n            <p className=\"details-titles\">Descriprion: </p>\n            <p className=\"details-infos\">{currentGemData.description}</p>\n          </div>\n          <div className=\"gem-divs\">\n            <p className=\"details-titles\">Good to know: </p>\n            <p className=\"details-infos\">{currentGemData.goodToKnow}</p>\n          </div>\n          <div className=\"cat-creat-container\">\n            <div className=\"gem-divs\">\n              <p className=\"details-titles\">Category: </p>\n              <p className=\"details-infos\">\n                {categoryStrings[currentGemData.category]}\n              </p>\n            </div>\n            <div className=\"gem-divs\">\n              <p className=\"details-titles\">Created: </p>\n              <p className=\"details-infos\">\n                {currentGemData.created_at.slice(0, 10)}\n              </p>\n            </div>\n          </div>\n        </div>\n        {!this.props.closeDetails ? (\n          <div>\n            <Link className=\"back-Link\" to=\"/explore-places\">\n              <Button className=\"back-btn generalBtn\">Back to Map</Button>\n            </Link>\n          </div>\n        ) : (\n          <div>\n            <Button\n              className=\"back-btn generalBtn\"\n              onClick={this.props.closeDetails}>\n              Back to Map\n            </Button>\n          </div>\n        )}\n        <div className=\"arrow-down\">\n          <i className=\"fas fa-angle-down\"></i>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport GemOnMap from \"./GemOnMap\";\nimport ReactMapGL, {\n  Popup,\n  NavigationControl,\n  GeolocateControl\n} from \"react-map-gl\";\nimport Geocoder from \"react-mapbox-gl-geocoder\";\nimport GemDetails from \"./GemDetails\";\nimport { throws } from \"assert\";\n\nclass MapGems extends Component {\n  state = {\n    viewport: {\n      width: \"100%\",\n      height: \"95vh\",\n      latitude: 70.520008,\n      longitude: 70.404954,\n      zoom: 2\n    },\n    gemSelectedInfo: this.props.gemSelectedInfo,\n    displayDetails: false\n  };\n\n  openPopup = gemData => {\n    this.setState({\n      gemSelectedInfo: {\n        ...gemData\n      }\n    });\n  };\n\n  closeDetails = () => {\n    this.setState({\n      displayDetails: false,\n      gemSelectedInfo: null\n    });\n  };\n\n  openDetails = () => {\n    this.setState({\n      displayDetails: true\n    });\n  };\n\n  setUserLocation = () => {\n    navigator.geolocation.getCurrentPosition(position => {\n      let userLocation = {\n        lat: position.coords.latitude,\n        long: position.coords.longitude\n      };\n      this.setState({\n        viewport: {\n          ...this.state.viewport,\n          latitude: userLocation.lat,\n          longitude: userLocation.long\n        }\n      });\n    });\n  };\n\n  onGeocontrolSelected = (viewport, item) => {\n    this.setState({\n      viewport: viewport,\n      marker: {\n        longitude: viewport.longitude,\n        latitude: viewport.latitude\n      }\n    });\n  };\n\n  renderPopup = () => {\n    const { gemSelectedInfo } = this.state;\n    const categoryRender = {\n      foodDrinks: [\"Food & Drinks\", \"#363\"],\n      cultureArts: [\"Culture & Arts\", \"#229\"],\n      hikes: [\"Hikes\", \"#4badb6\"],\n      nature: [\"Nature & Sight\", \"#2b2\"],\n      party: [\"Party\", \"#811\"],\n      sports: [\"Sports\", \"#292\"],\n      others: [\"Others\", \"#555\"]\n    };\n    return (\n      gemSelectedInfo && (\n        <Popup\n          className=\"gem-popup\"\n          tipSize={5}\n          anchor=\"top\"\n          latitude={gemSelectedInfo.latitude}\n          longitude={gemSelectedInfo.longitude}\n          closeButton={true}\n          closeOnClick={false}\n          onClose={() => this.setState({ gemSelectedInfo: null })}>\n          <div>\n            <img\n              className=\"gem-popup-img\"\n              src={gemSelectedInfo.imageUrl}\n              alt=\"\"\n            />\n            <p className=\"gem-popup-title\">\n              <strong>{gemSelectedInfo.title}</strong>\n            </p>\n            <p className=\"gem-popup-category\">\n              <span\n                style={{\n                  color: `${categoryRender[gemSelectedInfo.category][1]}`\n                }}>\n                {categoryRender[gemSelectedInfo.category][0]}\n              </span>\n            </p>\n            <button onClick={this.openDetails} className=\"gem-popup-btn\">\n              Explore\n            </button>\n          </div>\n        </Popup>\n      )\n    );\n  };\n\n  render() {\n    const gemsToRender = this.props.gems.map(gem => {\n      return <GemOnMap key={gem._id} data={gem} openPopup={this.openPopup} />;\n    });\n    this.setUserLocation();\n    return (\n      <div className=\"page-wrapper\">\n\n        {this.state.displayDetails ? (\n          <>\n            <GemDetails\n              data={this.state.gemSelectedInfo}\n              user={this.props.user}\n              closeDetails={this.closeDetails}\n            />\n          </>\n        ) : (\n          <ReactMapGL\n            {...this.state.viewport}\n            onViewportChange={viewport =>\n              this.setState({\n                viewport: viewport\n              })\n            }\n            mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n            mapStyle=\"mapbox://styles/iouri/ck1kkzpus4iir1dmi0h34dz0s\"\n            captureDoubleClick={false}\n            doubleClickZoom={false}>\n            <div style={{ position: \"absolute\", right: \"2vw\", top: \"10vh\" }}>\n              <NavigationControl\n                onViewportChange={viewport => this.setState({ viewport })}\n              />\n            </div>\n            <div>\n              <Button\n                style={{\n                  position: \"absolute\",\n                  right: \"2vw\",\n                  top: \"2vh\",\n                  backgroundColor: \"#09d3ac\"\n                }}\n                onClick={this.props.toggleFilters}>\n                <i className=\"fas fa-filter\"></i>\n              </Button>\n            </div>\n            <div style={{ position: \"absolute\", left: \"20%\", top: \"2vh\" }}>\n              <Geocoder\n                mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n                onSelected={this.onGeocontrolSelected}\n                viewport={this.state.viewport}\n                hideOnSelect={true}\n              />\n            </div>\n            {gemsToRender}\n            {this.renderPopup()}\n          </ReactMapGL>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MapGems;\n","import React, { Component } from \"react\";\nimport Filters from \"./Filters\";\nimport MapGems from \"./MapGems\";\nimport axios from \"axios\";\nimport { Button } from \"react-bootstrap\";\n\nconst userFilterOptions = [\n  { value: \"all\", label: \"All\" },\n  { value: \"liked\", label: \"Liked\" },\n  { value: \"mine\", label: \"Mine\" }\n];\n\nclass ExplorePlaces extends Component {\n  state = {\n    displayFilters: false,\n    gemsData: null,\n    gemsToDisplay: null,\n    gemSelectedInfo: null,\n    filterStatus: {\n      showGems: true,\n      showTrips: true,\n      userFilter: \"all\",\n      dateStart: \"2019-01-01\",\n      dateEnd: \"2019-12-31\",\n      foodDrinks: true,\n      cultureArts: true,\n      sports: true,\n      party: true,\n      hikes: true,\n      nature: true,\n      others: true\n    }\n  };\n\n  getGemsData = () => {\n    axios.get(\"/api/gem\").then(gems => {\n      console.log(gems.data);\n      this.setState({\n        gemsData: gems.data,\n        gemsToDisplay: gems.data\n      });\n    });\n  };\n\n  filterGems = event => {\n    event.preventDefault();\n    const filter = this.state.filterStatus;\n    axios.get(\"/api/gem\").then(foundGems => {\n      let gemsFiltered = foundGems.data.filter(gem => {\n        return (\n          filter.showGems &&\n          (filter.userFilter.value === \"all\" ||\n            (filter.userFilter.value === \"liked\" &&\n              gem.likes.includes(this.props.user._id)) ||\n            (filter.userFilter.value === \"mine\" &&\n              gem.creator === this.props.user._id)) &&\n          filter[gem.category] === true &&\n          filter.dateStart <= gem.created_at.slice(0, 10) &&\n          gem.created_at.slice(0, 10) <= filter.dateEnd\n        );\n      });\n\n      this.setState({\n        gemsData: foundGems.data,\n        gemsToDisplay: gemsFiltered,\n        displayFilters: false,\n        gemSelectedInfo: null\n      });\n    });\n  };\n\n  componentDidMount = () => {\n    if (!this.state.gemsData) this.getGemsData();\n  };\n\n  handleSelectChange = userFilter => {\n    this.setState({\n      filterStatus: { ...this.state.filterStatus, userFilter: userFilter }\n    });\n    console.log(`Option selected:`, userFilter);\n  };\n\n  handleChange = event => {\n    console.log(event.target);\n    const name = event.target.name;\n    const value =\n      event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n    this.setState({\n      filterStatus: { ...this.state.filterStatus, [name]: value }\n    });\n  };\n\n  toggleFilters = () => {\n    const displayFilters = this.state.displayFilters ? false : true;\n    this.setState({\n      displayFilters\n    });\n  };\n\n  render() {\n\n    if (!this.state.gemsToDisplay) return <></>;\n    return (\n      <div>\n        \n        <div className=\"explore-places page-wrapper\">\n          <div className=\"explore-places-map\">\n            {this.state.displayFilters && (\n              <>\n                <Filters\n                  handleFilterChange={this.handleChange}\n                  handleSelectChange={this.handleSelectChange}\n                  handleFilterSubmit={this.filterGems}\n                  userFilterOptions={userFilterOptions}\n                  filterStatus={this.state.filterStatus}\n                />\n              </>\n            )}\n            <MapGems\n              toggleFilters={this.toggleFilters}\n              gems={this.state.gemsToDisplay}\n              user={this.props.user}\n              gemSelectedInfo={this.state.gemSelectedInfo}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ExplorePlaces;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n// import ImageUploader from \"react-images-upload\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n  Image,\n  Video,\n  Transformation,\n  CloudinaryContext\n} from \"cloudinary-react\";\nimport \"../../stylesheets/profile.css\";\n\nexport default class UpdateProfile extends Component {\n  state = {\n    username: this.props.user.username,\n    profilePic: this.props.user.profilePic,\n    travelInterests: this.props.user.travelInterests\n  };\n\n  handleChange = (event) => {\n    const name = event.target.name;\n    const value = event.target.value;\n    const { username, profilePic, travelInterests } = this.state;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const files = event.target.profilePic.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"profilePic\", files);\n    axios\n      .post(\"/api/user/add-image\", uploadData)\n      .then((response) => {\n        this.setState(\n          {\n            profilePic: response.data.secure_url\n          },\n          () => {\n            console.log(\"Profile pic updated\", this.state.profilePic);\n          }\n        );\n        axios\n          .patch(\"/api/user/update\", {\n            username: this.state.username,\n            profilePic: this.state.profilePic,\n            travelInterests: this.state.travelInterests\n          })\n          .then((response) => {\n            this.props.setUser(response.data);\n            this.props.history.push(`/profile/${this.props.user._id}`);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      })\n      .catch((err) => {\n        axios\n          .patch(\"/api/user/update\", {\n            username: this.state.username,\n            profilePic: this.state.profilePic,\n            travelInterests: this.state.travelInterests\n          })\n          .then((response) => {\n            this.props.setUser(response.data);\n            console.log(\"newUser set call component\");\n            this.props.history.push(`/profile/${this.props.user._id}`);\n          })\n          .catch((err) => {\n            console.log(err);\n            this.props.history.push();\n          });\n      });\n  };\n\n  directProfile = () => {\n    this.props.history.push(`/profile/${this.props.user._id}`);\n  };\n\n  render() {\n    console.log(this.state.username);\n    return (\n      <>\n        <div className=\"wrapper-update\">\n          <Form onSubmit={this.handleSubmit}>\n            <Form.Group>\n              <h2>Hello {this.props.user.username}</h2>\n            </Form.Group>\n            <FormControl>\n              <Form.Group>\n                <InputLabel htmlFor=\"username input-with-icon-adornment\">\n                  Change your username:\n                </InputLabel>\n                <Input\n                  id=\"input-with-icon-adornment\"\n                  onChange={this.handleChange}\n                  placeholder={this.props.user.username}\n                  // id=\"userName\"\n                  name=\"username\"\n                  value={this.state.username}\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      <AccountCircle />\n                    </InputAdornment>\n                  }\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label htmlFor=\"profilePic\">\n                  Update your Picture\n                </Form.Label>\n                <Form.Control id=\"profilePic\" type=\"file\" name=\"profilePic\" />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label htmlFor=\"travelInterests\"></Form.Label>\n                <TextField\n                  onChange={this.handleChange}\n                  id=\"travelInterests\"\n                  name=\"travelInterests\"\n                  label=\"Tell us about you\"\n                  multiline\n                  rows=\"4\"\n                  value={this.state.travelInterests}\n                  placeholder={this.props.user.travelInterests}\n                  variant=\"outlined\"\n                />\n              </Form.Group>\n              <Form.Group>\n                <Button\n                  onClick={this.handleSubmit}\n                  type=\"submit\"\n                  variant=\"contained\"\n                  size=\"small\"\n                  margin=\"theme.spacing(1)\"\n                  onClick\n                  startIcon={<SaveIcon />}\n                >\n                  Save\n                </Button>\n              </Form.Group>\n              <Form.Group>\n                <Button\n                  onClick={this.directProfile}\n                  variant=\"contained\"\n                  type=\"button\"\n                >\n                  Discard Changes\n                </Button>\n              </Form.Group>\n              <Form.Group>\n                <Link to=\"/explore-places\">\n                  <Button variant=\"contained\" type=\"button\">\n                    Explore places\n                  </Button>\n                </Link>\n              </Form.Group>\n            </FormControl>\n          </Form>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { CanvasOverlay } from \"react-map-gl\";\n\nclass PolyLineOverlay extends Component {\n  _redraw = ({ width, height, ctx, isDragging, project, unproject }) => {\n    const {\n      points,\n      color = \"rgba(50,50,255,0.5)\",\n      lineWidth = 8,\n      renderWhileDragging = true\n    } = this.props;\n    ctx.clearRect(0, 0, width, height);\n    ctx.globalCompositeOperation = \"lighter\";\n\n    if ((renderWhileDragging || !isDragging) && points) {\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = color;\n      ctx.beginPath();\n      points.forEach(point => {\n        const pixel = project([point[1], point[0]]);\n        console.log(\"pixel:\", pixel)\n        ctx.lineTo(pixel[0], pixel[1]);\n      });\n      ctx.stroke();\n    }\n  };\n\n  render() {\n    return <CanvasOverlay redraw={this._redraw} />;\n  }\n}\n\nexport default PolyLineOverlay\n","import React from \"react\";\nimport ReactMapGL, { Marker } from \"react-map-gl\";\n\nconst GemOnMap = props => {\n  const coordinates=[props.data.latitude, props.data.longitude];\n  return (\n    <div>\n        <Marker\n          latitude={props.data.latitude}\n          longitude={props.data.longitude}\n          captureClick={false}\n          draggable={false}\n          offsetTop={-30}\n          offsetLeft={-15}>\n          <div className=\"gem-marker\" onClick={()=>{props.addToTrip(coordinates)}}>\n            <img src=\"/images/blue_gem.png\" alt=\"Gem\"/>\n          </div>\n        </Marker>\n    </div>\n  );\n};\n\n\nexport default GemOnMap;","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport ReactMapGL from \"react-map-gl\";\nimport PolyLineOverlay from \"./PolyLineOverlay\";\nimport GemForTrip from \"./GemForTrip\";\n\nclass TripDetails extends Component {\n  state = {\n    viewport: {\n      width: \"500px\",\n      height: \"500px\",\n      latitude: 53.520008,\n      longitude: 13.404954,\n      zoom: 3\n    },\n    gemsData: null,\n    tripStages: [],\n    points: []\n  };\n\n  componentDidMount() {\n    if (!this.state.gemsData) this.getGemsData();\n  }\n\n  getGemsData = () => {\n    axios.get(\"/api/gem\").then(gems => {\n      this.setState({\n        gemsData: gems.data\n      });\n    });\n  };\n\n  addTripStage = coord => {\n    console.log(\"clicked\")\n    const currentStages = this.state.tripStages;\n    currentStages.push(coord);\n    this.setState({\n      tripStages: currentStages\n    });\n  };\n\n  getSimpleRoute=()=>{\n    this.setState({\n      points: this.state.tripStages\n    });\n  }\n\n  // getRoute = () => {\n  //   const mapboxApiAccessToken = process.env.REACT_APP_MAPBOX_TOKEN;\n  //   const coordinates = this.state.tripStages.join(\";\");\n  //   // https://api.mapbox.com/directions/v5/mapbox/cycling/-122.42,37.78;-77.03,38.91?steps=true&access_token=pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg\n  //   let url= `https://api.mapbox.com/directions/v5/mapbox/driving/${coordinates}?steps=true&access_token=pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg`\n  //   let url3 = `https://api.mapbox.com/directions/v5/mapbox/driving/${coordinates}.json?access_token=${mapboxApiAccessToken}`;\n  //   axios\n  //     .get(url)\n  //     .then(response => {\n  //       console.log(\"Response data: \", response.data);\n  //       const points = response.data.routes[0].legs[0].steps.reduce(\n  //         (acc, val) => {\n  //           console.log(\"Acc: \", acc)\n  //           const newPoint= val.intersections[0].location\n  //           console.log(\"New Point: \",newPoint)\n  //           return acc.concat([newPoint])\n  //         },\n  //         []);\n  //       console.log(\"Points: \",points);\n  //       this.setState({\n  //         points\n  //       });\n  //     })\n  //     .catch(err => {\n  //       console.log(err);\n  //     });\n  // };\n\n  render() {\n    let gemsToRender = [];\n    console.log(this.state.tripStages)\n    if (this.state.gemsData) {\n      gemsToRender = this.state.gemsData.map(gem => {\n        return (\n            <GemForTrip key={gem._id} data={gem} addToTrip={this.addTripStage}/>\n        );\n      });\n    }\n    console.log(this.state.tripStages);\n    return (\n      <div>\n        <h2>Route details</h2>\n        <button onClick={this.getSimpleRoute}>Get route</button>\n        <ReactMapGL\n          {...this.state.viewport}\n          onViewportChange={viewport =>\n            this.setState({\n              viewport: viewport\n            })\n          }\n          mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n          mapStyle=\"mapbox://styles/mapbox/streets-v10\"\n          captureDoubleClick={false}\n          doubleClickZoom={false}>\n          {this.state.points && <PolyLineOverlay points={this.state.points} />}\n          {gemsToRender}\n\n        </ReactMapGL>\n      </div>\n    );\n  }\n}\n\nexport default TripDetails;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nexport default class SuggestGem extends Component {\n  state = {\n    suggestGemsData: null\n  };\n\n  getGemsData = () => {\n    axios.get(\"/api/gem\").then((gems) => {\n      console.log(gems.data);\n      console.log(this.props.locationName);\n      let newdata = gems.data.filter((gem) => {\n        let count = 0;\n        this.props.locationName.split(\",\").forEach((element) => {\n          if (gem.locationName.indexOf(element) !== -1) {\n            count++;\n            console.log(count);\n          }\n        });\n        if (count >= 2) return true;\n      });\n      console.log(newdata);\n      this.setState({\n        suggestGemsData: newdata\n      });\n    });\n  };\n\n  handleRouteExperience = (val) => {\n    console.log(\"Experience called\");\n    console.log(val);\n    this.props.fetchGemInfo({\n      latitude: val.latitude,\n      longitude: val.longitude,\n      locationName: val.locationName,\n      discovery: false\n    });\n    this.props.setStage(\"AddExperience\");\n  };\n\n  handleRouteDiscovery = () => {\n    console.log(\"Discovery called\");\n    this.props.fetchGemInfo({\n      discovery: true\n    });\n    this.props.setStage(\"AddDiscovery\");\n  };\n\n  componentDidMount = () => {\n    if (!this.state.gemsData) this.getGemsData();\n  };\n  render() {\n    console.log(this.state.gemsData);\n    return (\n      <div>\n        <h4 className=\"headingSetGem\">May be you mean one of these Gems?</h4>\n        {this.state.suggestGemsData != null &&\n          this.state.suggestGemsData.map((val) => (\n            <div className=\"item\" key={val._id}>\n              <div>\n                <p>{val.title}</p>\n                <p>{val.locationName}</p>\n              </div>\n              <div>\n                <button onClick={() => this.handleRouteExperience(val)}>\n                  That's it\n                </button>\n              </div>\n            </div>\n          ))}\n\n        <div className=\"item\">\n          <div>\n            <p>None it's a new Discovery!</p>\n            <p>Take current location</p>\n          </div>\n          <div>\n            <button onClick={this.handleRouteDiscovery}>That's it</button>\n          </div>\n        </div>\n        <button>Add Details &#129130;</button>\n      </div>\n    );\n  }\n}\n","import \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport ReactMapGL, {\n  Marker,\n  // Popup,\n  GeolocateControl,\n  NavigationControl\n} from \"react-map-gl\";\n\nimport Geocoder from \"react-mapbox-gl-geocoder\";\nimport SuggestGem from \"./SuggestGem\";\n\nexport class SetGem extends Component {\n  state = {\n    viewport: {\n      width: \"100%\",\n      height: \"95vh\",\n      latitude: 52.520008,\n      longitude: 13.404954,\n      zoom: 1,\n      bearing: 0,\n      pitch: 0\n    },\n    marker: {\n      markerClicked: false,\n      latitude: 52.520008,\n      longitude: 13.404954\n    }\n  };\n\n  // here we lift up the state to CreateGem and update longitude, latitude and locationname\n  onSubmit = event => {\n    event.preventDefault();\n    let locationName = \"\";\n    axios\n      .get(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.marker.longitude},${this.state.marker.latitude}.json?access_token=` +\n          process.env.REACT_APP_MAPBOX_TOKEN\n      )\n      .then(response => {\n        console.log(response);\n        locationName = response.data.features[0].place_name;\n        this.props.fetchGemInfo({\n          latitude: this.state.marker.latitude,\n          longitude: this.state.marker.longitude,\n          locationName: locationName\n        });\n        this.props.setStage(\"SuggestGem\");\n      })\n      .catch(err => console.log(\"Error in getting the locationname\" + err));\n  };\n\n  handleViewportChange = viewport => {\n    this.setState({\n      viewport: { ...this.state.viewport, ...viewport }\n    });\n  };\n\n  onSelected = (viewport, item) => {\n    this.setState({\n      viewport: viewport,\n      marker: {\n        longitude: viewport.longitude,\n        latitude: viewport.latitude\n      }\n    });\n  };\n\n  render() {\n    console.log(this.state.marker);\n    console.log(this.state.viewport);\n    return (\n      <>\n        <ReactMapGL\n          {...this.state.viewport}\n          onViewportChange={viewport =>\n            this.setState({\n              viewport: viewport,\n              marker: {\n                longitude: viewport.longitude,\n                latitude: viewport.latitude\n              }\n            })\n          }\n          mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n          mapStyle=\"mapbox://styles/iouri/ck1kkzpus4iir1dmi0h34dz0s\"\n          captureDoubleClick={false}\n          doubleClickZoom={false}\n          onDblClick={event => {\n            this.setState({\n              /* viewport: {\n                longitude: event.lngLat[0],\n                latitude: event.lngLat[1]\n              }, */\n              marker: {\n                longitude: event.lngLat[0],\n                latitude: event.lngLat[1]\n              }\n            });\n            // console.log(\"onclickevent\", event.lngLat);\n          }}\n        >\n          <Marker\n            latitude={this.state.marker.latitude}\n            longitude={this.state.marker.longitude}\n            offsetTop={-50}\n            offsetLeft={-25}\n            captureClick={false}\n            draggable={true}\n            onDragEnd={event =>\n              this.setState({\n                marker: {\n                  longitude: event.lngLat[0],\n                  latitude: event.lngLat[1]\n                }\n              })\n            }\n          >\n            <div className=\"gem-marker gem-marker-set\">\n              <img src=\"/images/diamond-icon-green.png\" alt=\"gem\"/>\n            </div>\n          </Marker>\n          {/*        {this.state.marker.markerClicked ? (\n            <Popup\n              latitude={this.state.marker.latitude}\n              longitude={this.state.marker.longitude}\n              closeButton={true}\n              closeOnClick={false}\n              onClose={() => {\n                this.setState({\n                  marker: { ...this.state.marker, markerClicked: false }\n                });\n              }}\n            >\n              <div>\n                latitude={this.state.marker.latitude}\n                longitude={this.state.marker.longitude}{\" \"}\n              </div>\n            </Popup>\n          ) : null} */}\n          <div style={{ position: \"absolute\", right: \"2vw\", top: \"10vh\" }}>\n            <NavigationControl\n              onViewportChange={viewport => this.setState({ viewport })}\n            />\n          </div>\n          {/* <div style={{ position: \"absolute\", right: \"2vw\", top: \"4vh\" }}>\n            <GeolocateControl\n              positionOptions={{ enableHighAccuracy: true }}\n              trackUserLocation={true}\n            />\n          </div> */}\n          <div>\n            <Geocoder\n              mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n              onSelected={this.onSelected}\n              viewport={this.state.viewport}\n              hideOnSelect={true}\n            />\n          </div>\n          <div className=\"setGem\">\n            <button className=\"btn btn-primary generalBtn\" onClick={this.onSubmit}>\n              <strong>Create Gem</strong>\n            </button>\n          </div>\n        </ReactMapGL>\n      </>\n    );\n  }\n}\nexport default SetGem;\n","import React, { Component } from 'react'\n\nexport default class GemWelcome extends Component {\n  render() {\n    return (\n      <div>\n        This is Gem Welcome\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { Formik } from \"formik\";\n\nimport {\n  Image,\n  Video,\n  Transformation,\n  CloudinaryContext\n} from \"cloudinary-react\";\n\nexport default class AddExperience extends React.Component {\n  state = {\n    message: \"\",\n    isEnabled: false,\n    nopic: false\n  };\n\n  handleChanges = (event) => {\n    const { name, value } = event.target;\n    console.log(event.target.visitedDate);\n    this.props.fetchGemInfo({\n      [name]: value\n    });\n\n    //Set timeout change into other function because its asychronouse and can not update checkStatus quickly enough\n    setTimeout(() => {\n      this.setState(\n        {\n          isEnabled: this.props.checkStatus()\n        },\n        () => console.log(\"updated state\", this.state)\n      );\n    }, 10);\n  };\n\n  noPicProceed = (event) => {\n    event.preventDefault();\n    if (event.target.name === \"yes\") {\n      this.props.setStage(\"GemSuccess\");\n      this.props.createGem();\n    } else {\n      this.setState({\n        message: \"\"\n      });\n    }\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    event.persist();\n    const files = event.target.imageUrl.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", files);\n    axios\n      .post(\"/api/gem/add-image\", uploadData)\n      .then((response) => {\n        this.props.fetchGemInfo({\n          imageUrl: response.data.secure_url\n        });\n        this.props.setStage(\"GemSuccess\");\n        this.props.createGem();\n      })\n      .catch((err) => {\n        this.setState({\n          message: \"You want to proceed without uploading a picture?\"\n        });\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1> Tell others about your Experience</h1>\n        {this.props.locationName && (\n          <h2>{this.props.locationName.substring(0, 30)}...</h2>\n        )}\n\n        {this.state.message && (\n          <div>\n            <h3>{this.state.message}</h3>\n            <button onClick={this.noPicProceed} name=\"yes\">\n              Yes\n            </button>\n            <button onClick={this.noPicProceed} name=\"no\">\n              No\n            </button>\n          </div>\n        )}\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n            <Form.Label htmlFor=\"title\">Title: </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              type=\"text\"\n              name=\"title\"\n              id=\"title\"\n              value={this.props.title}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"description\">Description: </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              type=\"text\"\n              name=\"description\"\n              id=\"description\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"category\">Category </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              name=\"category\"\n              as=\"select\"\n            >\n              <option value=\"\">Choose a category</option>\n              <option value=\"cultureArts\">Culter & Arts</option>\n              <option value=\"foodDrinks\">Food & Drinks</option>\n              <option value=\"hikes\">Hikes</option>\n              <option value=\"nature\">Nature</option>\n              <option value=\"party\">Party</option>\n              <option value=\"sports\">Sports</option>\n              <option value=\"others\">Others</option>\n            </Form.Control>\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"goodToKnow\">Good to know: </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              type=\"text\"\n              name=\"goodToKnow\"\n              id=\"goodToKnow\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"visitedDate\">Date: </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              type=\"date\"\n              name=\"visitedDate\"\n              id=\"visitedDate\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Control type=\"file\" name=\"imageUrl\" />\n          </Form.Group>\n          <Button disabled={!this.state.isEnabled} type=\"submit\">\n            Create Gem\n          </Button>\n        </Form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { Formik } from \"formik\";\n\nimport {\n  Image,\n  Video,\n  Transformation,\n  CloudinaryContext\n} from \"cloudinary-react\";\n\nexport default class AddDiscovery extends React.Component {\n  state = {\n    message: \"\",\n    isEnabled: false,\n    nopic: false\n  };\n\n  handleChanges = (event) => {\n    const { name, value } = event.target;\n    this.props.fetchGemInfo({\n      [name]: value\n    });\n\n    //Set timeout change into other function because its asychronouse and can not update checkStatus quickly enough\n    setTimeout(() => {\n      this.setState(\n        {\n          isEnabled: this.props.checkStatus()\n        }\n        // () => console.log(\"updated state\", this.state)\n      );\n    }, 10);\n  };\n\n  noPicProceed = (event) => {\n    event.preventDefault();\n    if (event.target.name === \"yes\") {\n      this.props.fetchGemInfo({\n        discovery: true\n      });\n      this.props.setStage(\"GemSuccess\");\n      this.props.createGem();\n    } else {\n      this.setState({\n        message: \"\"\n      });\n    }\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    event.persist();\n    const files = event.target.imageUrl.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", files);\n    axios\n      .post(\"/api/gem/add-image\", uploadData)\n      .then((response) => {\n        this.props.fetchGemInfo({\n          imageUrl: response.data.secure_url,\n          discovery: true\n        });\n        this.props.setStage(\"GemSuccess\");\n        this.props.createGem();\n      })\n      .catch((err) => {\n        this.setState({\n          message: \"You want to proceed without uploading a picture?\"\n        });\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1> Tell others about your Discovery</h1>\n        {this.props.locationName && (\n          <h2>{this.props.locationName.substring(0, 30)}...</h2>\n        )}\n\n        {this.state.message && (\n          <div>\n            <h3>{this.state.message}</h3>\n            <button onClick={this.noPicProceed} name=\"yes\">\n              Yes\n            </button>\n            <button onClick={this.noPicProceed} name=\"no\">\n              No\n            </button>\n          </div>\n        )}\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n            <Form.Label htmlFor=\"title\">Title: </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              type=\"text\"\n              name=\"title\"\n              id=\"title\"\n              value={this.props.title}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"description\">Description: </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              type=\"text\"\n              name=\"description\"\n              id=\"description\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"category\">Category </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              name=\"category\"\n              as=\"select\"\n            >\n              <option value=\"\">Choose a category</option>\n              <option value=\"cultureArts\">Culter & Arts</option>\n              <option value=\"foodDrinks\">Food & Drinks</option>\n              <option value=\"hikes\">Hikes</option>\n              <option value=\"nature\">Nature</option>\n              <option value=\"party\">Party</option>\n              <option value=\"sports\">Sports</option>\n              <option value=\"others\">Others</option>\n            </Form.Control>\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"goodToKnow\">Good to know: </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              type=\"text\"\n              name=\"goodToKnow\"\n              id=\"goodToKnow\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"visitedDate\">Date: </Form.Label>\n            <Form.Control\n              required\n              onChange={this.handleChanges}\n              type=\"date\"\n              name=\"visitedDate\"\n              id=\"visitedDate\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Control type=\"file\" name=\"imageUrl\" />\n          </Form.Group>\n          <Button disabled={!this.state.isEnabled} type=\"submit\">\n            Create Gem\n          </Button>\n        </Form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport {\n  FacebookShareButton,\n  WhatsappShareButton,\n  EmailShareButton\n} from \"react-share\";\nimport \"../../stylesheets/createGem.css\";\n\nimport { FacebookIcon, WhatsappIcon, EmailIcon } from \"react-share\";\n\nexport default class GemSuccess extends React.Component {\n  handleRoute = event => {\n    switch (event.target.name) {\n      case \"view\":\n        this.props.history.push(`/gem/${this.props.gemId}`);\n        break;\n      case \"share\":\n        break;\n      case \"add\":\n        this.props.setStage(\"AddToTrip\");\n        break;\n      case \"map\":\n        this.props.history.push(\"/explore-places\");\n        break;\n    }\n\n    // componentDidMount = () => {\n    //   let shareUrl = `http://localhost:3000/gem/${this.props.gemId}`;\n    // };\n  };\n\n  render() {\n    let shareUrl = `https://localhost:3000/gem/${this.props.gemId}`;\n    console.log(shareUrl);\n    console.log({ ...this.props });\n    return (\n      <div className=\"success-container\">\n        <h2>Congrats! You just created a new Gem!</h2>\n        <div className=\"success-flex-share\">\n          <p>Share your newest Discovery:</p>\n          <div className=\"success-flex-container\">\n            <div>\n              <FacebookShareButton url={shareUrl}>\n                <FacebookIcon size={32} round={true} />\n              </FacebookShareButton>\n            </div>\n            <div>\n              <WhatsappShareButton url={shareUrl}>\n                <WhatsappIcon size={32} round={true} />\n              </WhatsappShareButton>\n            </div>\n            <div>\n              <EmailShareButton url={shareUrl}>\n                <EmailIcon size={32} round={true} />\n              </EmailShareButton>\n            </div>\n          </div>\n        </div>\n        <div>\n          <div className=\"success-btn-container\">\n            <Button className=\"btn btn-primary generalBtn\" onClick={this.handleRoute} name=\"view\">\n              View Gem  <i class=\"fas fa-eye\"></i>\n            </Button>\n          </div>\n          <div className=\"success-btn-container\">\n            <Button className=\"btn btn-primary generalBtn\" onClick={this.handleRoute} name=\"add\">\n              Add to a Trip  <i class=\"fas fa-plus\"></i>\n            </Button>\n          </div>\n          <div className=\"success-btn-container\">\n            <Button className=\"btn btn-primary generalBtn\" onClick={this.handleRoute} name=\"map\">\n              Back to Map  <i class=\"fa fa-globe\" aria-hidden=\"true\"></i>\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { requestTrips } from \"../../services/api\";\n\nexport default class AddToTrip extends Component {\n  state = {\n    formStatus: false,\n    trips: []\n  };\n\n  handleChanges = (event) => {\n    const { name, value } = event.target;\n    this.props.fetchTripInfos({\n      [name]: value\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.createTrip();\n    requestTrips(this.props.creatorid)\n      .then((trips) => {\n        this.setState({ trips });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  showTrips = () => {\n    return this.state.trips.map((element) => {\n      return (\n        <Button\n          className=\"btn-options\"\n          onClick={() =>\n            this.props.selectTrip(\n              element._id,\n              element.name,\n              element.gemsVisited\n            )\n          }\n        >\n          {element.name}\n        </Button>\n      );\n    });\n  };\n\n  toogleForm = () => {\n    this.setState({\n      formStatus: !this.state.formStatus\n    });\n  };\n\n  componentDidMount = () => {\n    requestTrips(this.props.creatorid)\n      .then((trips) => {\n        this.setState({ trips });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Which Trip you want to add the Gem?</h1>\n        <Button onClick={this.toogleForm}>Create a new Trip</Button>\n        {this.state.formStatus ? (\n          <Form onSubmit={this.handleSubmit}>\n            <Form.Group>\n              <Form.Label htmlFor=\"name\">Trip Name: </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                type=\"text\"\n                name=\"name\"\n                id=\"name\"\n                value={this.props.title}\n              />\n            </Form.Group>\n            <Button type=\"submit\">Create Trip</Button>\n          </Form>\n        ) : (\n          <div></div>\n        )}\n        <div className=\"triplist\">{this.showTrips()}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\n\nexport default class AddGemToTrip extends Component {\n  state = {\n    availableGems: []\n  };\n\n  showGems = () => {\n    let GemsInTripIncluded = [];\n\n    if (this.props.TripInfos.existingGems !== undefined) {\n      GemsInTripIncluded = this.props.TripInfos.existingGems;\n    }\n    console.log(\"Check here after click\", this.props.TripInfos.existingGems);\n    return this.props.TripInfos.allGems.map((element) => {\n      if (GemsInTripIncluded.includes(element._id)) {\n        return (\n          <div>\n            <Button\n              className=\"btn-options gem-active\"\n              onClick={() => this.props.updateGemStatus(element._id)}\n            >\n              {element.title} Is already in Trip\n            </Button>\n          </div>\n        );\n      } else {\n        return (\n          <div>\n            <Button\n              className=\"btn-options gem-inactive\"\n              onClick={() => {\n                this.props.updateGemStatus(element._id);\n              }}\n            >\n              {element.title} not included.\n            </Button>\n          </div>\n        );\n      }\n    });\n  };\n\n  componentDidMount = () => {\n    console.log(\n      \"Did Mount and have Tripinfo props\",\n      this.props.TripInfos.existingGems\n    );\n  };\n\n  render() {\n    console.log(\n      \"All gem Information stored\",\n      this.props.TripInfos.existingGems\n    );\n    return (\n      <div>\n        <h1>Which Gems do you want to add to {this.props.tripName}</h1>\n        <div className=\"gemlist\">{this.showGems()}</div>\n        <Button onClick={this.props.saveGemsInTrip}>Save Gem to Trip</Button>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class GemList extends Component {\n  render() {\n    return (\n      <div>\n        This is Gem List\n      </div>\n    )\n  }\n}\n","import \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport React, { Component } from \"react\";\nimport SetGem from \"./SetGem\";\nimport GemWelcome from \"./GemWelcome\";\nimport SuggestGem from \"./SuggestGem\";\nimport AddExperience from \"./AddExperience\";\nimport AddDiscovery from \"./AddDiscovery\";\nimport GemSuccess from \"./GemSuccess\";\nimport AddToTrip from \"./AddToTrip\";\nimport GemList from \"./GemList\";\nimport AddGemToTrip from \"./AddGemToTrip\";\nimport {\n  pushGem,\n  requestTrips,\n  pushTrip,\n  specificGems,\n  updateTrip\n} from \"../../services/api.js\";\nimport Geocoder from \"react-mapbox-gl-geocoder\";\n\nclass CreateGem extends React.Component {\n  state = {\n    stage: \"SetGem\",\n    gem: {\n      title: \"\",\n      description: \"\",\n      goodToKnow: \"\",\n      imageUrl: \"\",\n      creator: this.props.user._id,\n      discovery: null,\n      category: \"\",\n      visitedDate: \"\",\n      latitude: 0,\n      longitude: 0,\n      locationName: \"\",\n      gemId: null\n    },\n    trip: {\n      tripId: null,\n      name: \"\",\n      creator: this.props.user._id,\n      selectedTrip: null,\n      allGems: [],\n      addedGems: [],\n      existingGems: []\n    }\n  };\n\n  checkStatus = () => {\n    console.log(this.state.gem);\n    const consider = [\n      \"title\",\n      \"description\",\n      \"goodToKnow\",\n      \"visitedDate\",\n      \"category\",\n      \"locationName\"\n    ];\n    for (var key in this.state.gem) {\n      if (this.state.gem[key] === \"\" && consider.indexOf(key) !== -1) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  createGem = () => {\n    console.log(\"create gem with props\", this.state.gem);\n    let { ...pushObj } = this.state.gem;\n    delete pushObj.stage;\n    if (pushObj.creator === \"\") pushObj.creator = null;\n    pushGem(pushObj).then((n) => {\n      this.setState({\n        gem: {\n          gemId: n._id\n        }\n      });\n    });\n  };\n\n  fetchGemInfo = (gemInfos) => {\n    this.setState({ gem: { ...this.state.gem, ...gemInfos } });\n  };\n\n  createTrip = () => {\n    let { ...pushObj } = this.state.trip;\n    delete pushObj.stage;\n    if (pushObj.creator === \"\") pushObj.creator = null;\n    pushTrip(pushObj).then((n) => {\n      this.setState({\n        trip: {\n          tripId: n._id\n        }\n      });\n      console.log(\"created trip with state\", this.state.trip);\n      requestTrips(this.props.user._id);\n    });\n  };\n\n  fetchTripInfo = (tripInfos) => {\n    this.setState({ trip: { ...this.state.trip, ...tripInfos } });\n  };\n\n  getTrips = () => {\n    requestTrips().then((n) => {\n      this.setState({\n        trip: {\n          tripId: n._id\n        }\n      });\n    });\n  };\n\n  selectTrip = (tripid, name, selectedGem) => {\n    specificGems(this.props.user._id).then((gemArray) => {\n      this.setState({\n        stage: \"AddGemToTrip\",\n        trip: {\n          selectedTrip: tripid,\n          allGems: gemArray,\n          name: name,\n          existingGems: selectedGem\n        }\n      });\n    });\n  };\n\n  saveGemsInTrip = () => {\n    let { ...pushObj } = this.state.trip;\n    console.log(\"State Trip bevor query\", this.state.trip);\n    if (pushObj.creator === \"\") pushObj.creator = null;\n    updateTrip(pushObj).then((n) => {\n      console.log(\"Request saveGemsTrip done\");\n    });\n  };\n\n  updateGemStatus = (gemid, event) => {\n    let addedGemcopy = [...this.state.trip.existingGems];\n    if (addedGemcopy.indexOf(gemid) === -1) addedGemcopy.push(gemid);\n    else addedGemcopy.splice(addedGemcopy.indexOf(gemid), 1);\n    this.setState({\n      trip: {\n        ...this.state.trip,\n        existingGems: addedGemcopy\n      }\n    });\n  };\n\n  setStage = (stage) => {\n    this.setState({\n      stage: stage\n    });\n  };\n\n  changeStage = (stage) => {\n    switch (stage) {\n      case \"GemWelcome\":\n        return <GemWelcome setStage={this.setStage} />;\n      case \"SetGem\":\n        return (\n          <SetGem fetchGemInfo={this.fetchGemInfo} setStage={this.setStage} />\n        );\n      case \"SuggestGem\":\n        return (\n          <div className=\"padding-wrapper\">\n            <SuggestGem\n              locationName={this.state.gem.locationName}\n              setStage={this.setStage}\n              fetchGemInfo={this.fetchGemInfo}\n            />{\" \"}\n          </div>\n        );\n      case \"AddExperience\":\n        return (\n          <div className=\"padding-wrapper\">\n            <AddExperience\n              locationName={this.state.gem.locationName}\n              fetchGemInfo={this.fetchGemInfo}\n              setStage={this.setStage}\n              checkStatus={this.checkStatus}\n              createGem={this.createGem}\n            />\n          </div>\n        );\n      case \"AddDiscovery\":\n        return (\n          <div className=\"padding-wrapper\">\n            <AddDiscovery\n              locationName={this.state.gem.locationName}\n              fetchGemInfo={this.fetchGemInfo}\n              setStage={this.setStage}\n              checkStatus={this.checkStatus}\n              createGem={this.createGem}\n            />\n          </div>\n        );\n      case \"GemSuccess\":\n        return (\n          <div className=\"padding-wrapper\">\n            <GemSuccess\n              gemId={this.state.gem.gemId}\n              setStage={this.setStage}\n              {...this.props}\n            />\n          </div>\n        );\n      case \"AddToTrip\":\n        return (\n          <div className=\"padding-wrapper\">\n            <AddToTrip\n              fetchTripInfos={this.fetchTripInfo}\n              setStage={this.setStage}\n              createTrip={this.createTrip}\n              creatorid={this.props.user._id}\n              selectTrip={this.selectTrip}\n            />\n          </div>\n        );\n      // case \"GemList\":\n      //   return <GemList />;\n      case \"AddGemToTrip\":\n        return (\n          <div className=\"padding-wrapper\">\n            <AddGemToTrip\n              TripInfos={this.state.trip}\n              updateGemStatus={this.updateGemStatus}\n              saveGemsInTrip={this.saveGemsInTrip}\n              tripName={this.state.trip.name}\n            />\n          </div>\n        );\n    }\n  };\n  render() {\n    console.log(this.state.stage, this.state);\n    return <div>{this.changeStage(this.state.stage)}</div>;\n  }\n}\n\nexport default CreateGem;\n","import React, { Component } from \"react\";\n\nexport default class NotFound extends Component {\n  render() {\n    return <div>404 - Page not found</div>;\n  }\n}\n","import React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\n// import UpdateProfile from \"./UpdateProfile\";\nimport { Link } from \"react-router-dom\";\nimport { requestTrips } from \"../../services/api\";\nimport axios from \"axios\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Card from \"react-bootstrap/Card\";\nimport \"../../stylesheets/profile.css\";\n\nexport default class Profile extends Component {\n  state = {\n    popularGems: [],\n    trips: [],\n    discoveries: 0,\n    experiences: 0,\n    creatorProfileId: this.props.match.params.profileId,\n    ownprofile: this.props.user._id === this.props.match.params.profileId,\n    isFollowing: false,\n    creatorInfos: null,\n    followers: 0\n  };\n\n  handleFollowClick() {\n    if (this.state.isFollowing) {\n      this.setState({\n        followers: this.state.followers - 1\n      });\n    } else {\n      this.setState({\n        followers: this.state.followers + 1\n      });\n    }\n    axios\n      .put(\n        \"/api/user/updateFollower\",\n        { creatorId: this.state.creatorProfileId },\n        {\n          new: true\n        }\n      )\n      .then((updatedfollow) => {\n        console.log(\"My updated follwing array\", updatedfollow);\n        this.setState({\n          isFollowing: !this.state.isFollowing\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  getpopularGems = () => {\n    console.log(\"Get Popular call made\");\n    axios\n      .get(`/api/gem/creator/${this.state.creatorProfileId}`)\n      .then((gems) => {\n        let discoveries = gems.data.filter((gems) => gems.discovery).length;\n        let experiences = gems.data.filter((gems) => !gems.discovery).length;\n        this.setState({\n          popularGems: gems.data,\n          discoveries,\n          experiences\n        });\n        axios\n          .get(`/api/user/user/${this.state.creatorProfileId}`)\n          .then((user) => {\n            this.setState(\n              {\n                creatorInfos: user.data,\n                followers: user.data.followers.length\n              },\n              () => {\n                console.log(\n                  \"Here are the Follower Infors of creator\",\n                  this.state.followers\n                );\n              }\n            );\n          })\n          .catch((err) => {\n            console.log(\"Problem getting gems\");\n            axios\n              .get(`/api/user/${this.state.creatorProfileId}`)\n              .then((user) => {\n                this.setState(\n                  {\n                    creatorInfos: user.data\n                  },\n                  () => {\n                    console.log(\n                      \"Here are the Follower Infors of creator\",\n                      this.state.creatorInfos\n                    );\n                  }\n                );\n              })\n              .catch((err) => {\n                console.log(\n                  \"Problem getting user\",\n                  this.state.creatorProfileId\n                );\n              });\n          });\n      });\n  };\n\n  componentDidMount = () => {\n    requestTrips(this.state.creatorProfileId)\n      .then((trips) => {\n        this.setState({ trips }, () => {\n          this.getpopularGems();\n          this.showTrips();\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    if (\n      this.props.user.following &&\n      this.props.user.following.includes(this.state.creatorProfileId)\n    ) {\n      this.setState({ isFollowing: true });\n    }\n  };\n\n  displayPopularGems = () => {\n    return (\n      <Carousel className=\"slider\">\n        {this.state.popularGems.map((gem) => (\n          <Carousel.Item key={gem._id}>\n            <img\n              className=\"d-block w-100 slider\"\n              src={gem.imageUrl}\n              alt=\"gem\"\n            />\n            <Carousel.Caption>\n              <h3 style={{ fontWeight: 900 }}>{gem.title}</h3>\n              <p style={{ fontWeight: 500 }}>{gem.locationName}</p>\n              <a\n                className=\"generalBtn btn btn-primary\"\n                href={`/gem/${gem._id}`}\n              >\n                Explore\n              </a>\n            </Carousel.Caption>\n          </Carousel.Item>\n        ))}\n      </Carousel>\n    );\n  };\n\n  showTrips = () => {\n    console.log(\"Here is showTrips elements:\", this.state.trips);\n    if (!this.state.trips) {\n      return <div>No trips created yet. Start to create a Gem :)</div>;\n    } else {\n      return this.state.trips.map((element) => {\n        return (\n          <Link to={`/trip/${element._id}`}>\n            <Button className=\"btn-triplist\">{element.name} ></Button>\n          </Link>\n        );\n      });\n    }\n  };\n\n  render() {\n    let user = this.state.creatorInfos;\n    console.log(\"Creator Infos\", this.state.creatorInfos);\n    return (\n      <>\n        <div className=\"profile-flexbox\">\n          <div className=\"nameedit\">\n            <div>\n              <h1>\n                {this.state.creatorInfos !== null &&\n                  this.state.creatorInfos.username}\n              </h1>\n            </div>\n\n            <div>\n              {this.state.ownprofile ? (\n                <Link to=\"/profile\">\n                  <Button\n                    variant=\"contained\"\n                    type=\"button\"\n                    className=\"editprof\"\n                  >\n                    Edit\n                  </Button>\n                </Link>\n              ) : (\n                <div>\n                  {this.state.isFollowing ? (\n                    <button\n                      className=\"follow-button btn btn-primary generalBtn\"\n                      onClick={(event) => this.handleFollowClick(user._id)}\n                    >\n                      Unfollow{\" \"}\n                      <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697521/gembox/icons/followed-user_dlgqrl.png\" />\n                    </button>\n                  ) : (\n                    <button\n                      className=\"follow-button btn btn-primary generalBtn-disabled\"\n                      onClick={(event) => this.handleFollowClick(user._id)}\n                    >\n                      Follow{\" \"}\n                      <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697521/gembox/icons/follow-user_xix0yg.png\" />\n                    </button>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"headerinfo\">\n            <div>\n              <img\n                className=\"profilepic\"\n                src={\n                  this.state.creatorInfos !== null &&\n                  this.state.creatorInfos.profilePic\n                }\n              />\n            </div>\n            <div className=\"basiccounts\">\n              <p>\n                Score\n                <span className=\"Score\">1200</span>\n              </p>\n              <p>\n                Followers\n                <span className=\"Score\">{this.state.followers}</span>\n              </p>\n              <p>\n                Following\n                <span className=\"Score\">\n                  {this.state.creatorInfos !== null &&\n                    // this.state.creatorInfos.following.length !== 0 &&\n                    this.state.creatorInfos.following.length}\n                </span>\n              </p>\n            </div>\n          </div>\n          <div className=\"experiences-discoveries\">\n            <div>\n              <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697079/gembox/icons/diamond-icon-gold_a6lkxq.png\" />\n\n              <span className=\"Score\"> {this.state.discoveries}</span>\n              <span> Discoveries </span>\n            </div>\n            <div>\n              <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697079/gembox/icons/diamond-icon-green_kjzvbz.png\" />\n\n              <span className=\"Score\">{this.state.experiences}</span>\n              <span> Experiences</span>\n            </div>\n          </div>\n          <div className=\"travelinterests\">\n            <div className=\"topicheader\">\n              <h2>Travelinterests</h2> <hr />\n              <div>\n                {this.state.creatorInfos !== null &&\n                  this.state.creatorInfos.travelInterests}\n              </div>\n            </div>\n          </div>\n          <div className=\"topicheader\">\n            <h2>Most popular gems</h2>\n            <hr />\n            <div className=\"gemlist\">{this.displayPopularGems()}</div>\n          </div>\n\n          <div className=\"trips\">\n            <div className=\"topicheader\">\n              <h2>All Trips</h2>\n              <hr />\n              <div className=\"triplist\">{this.showTrips()}</div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport Menu from \"./components/global/Menu\";\nimport AboutUs from \"./components/global/AboutUs\";\n// import \"./App.css\";\nimport Login from \"./components/auth/Login\";\nimport Signup from \"./components/auth/Signup\";\nimport Logout from \"./components/auth/Logout\";\nimport Home from \"./components/global/Home\";\nimport ExplorePlaces from \"./components/explore/ExplorePlaces\";\nimport UpdateProfile from \"./components/profile/UpdateProfile\";\nimport TripDetails from \"./components/explore/TripDetails\";\nimport GemDetails from \"./components/explore/GemDetails\";\nimport CreateGem from \"./components/create/CreateGem\";\nimport NotFound from \"./components/global/NotFound\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport ShowProfileNew from \"./components/profile/ShowProfileNew\";\n\nclass App extends React.Component {\n  state = {\n    user: this.props.user\n  };\n\n  setUser = user => {\n    this.setState({\n      user: user\n    });\n  };\n\n  setUserProfile = userid => {\n    console.log(\"HERE setUser called\", userid);\n    this.setState({\n      creatorProfile: userid\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"app-wrapper\">\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={props => (\n              <Home user={this.state.user} setUser={this.setUser} {...props} />\n            )}\n          />\n          <>\n            <Route\n              render={props => (\n                <Menu\n                  user={this.state.user}\n                  setUser={this.setUser}\n                  {...props}\n                />\n              )}\n            />\n            <Switch>\n              <Route\n                exact\n                path=\"/login\"\n                render={props => <Login setUser={this.setUser} {...props} />}\n              />\n              <Route\n                exact\n                path=\"/signup\"\n                render={props => <Signup setUser={this.setUser} {...props} />}\n              />\n              )} />\n              <Route\n                exact\n                path=\"/create-gem\"\n                render={props => (\n                  <CreateGem {...props} user={this.state.user} />\n                )}\n              />\n              <Route exact path=\"/logout\" component={Logout} />\n              <Route\n                exact\n                path=\"/explore-places\"\n                render={props => (\n                  <ExplorePlaces\n                    setUser={this.setUser}\n                    {...props}\n                    user={this.state.user}\n                    referredbyProfile={this.state.referredbyProfile}\n                  />\n                )}\n              />\n              <Route\n                path=\"/profile/:profileId\"\n                render={props => (\n                  <ShowProfileNew\n                    setUser={this.setUser}\n                    {...props}\n                    user={this.state.user}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/profile\"\n                render={props => (\n                  <UpdateProfile\n                    setUser={this.setUser}\n                    {...props}\n                    user={this.state.user}\n                  />\n                )}\n              />\n              <Route exact path=\"/trip\" component={TripDetails} />\n              <Route path=\"/trip/:tripId\" component={TripDetails} />\n              <Route\n                exact\n                path=\"/gem/:gemId\"\n                render={props => (\n                  <GemDetails {...props} user={this.state.user} />\n                )}\n              />\n              <Route exact path=\"/about-us\" component={AboutUs} />\n              <Route component={NotFound} />\n            </Switch>\n          </>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\naxios.get(\"/api/auth/loggedin\").then((response) => {\n  const user = response.data;\n\n  ReactDOM.render(\n    <BrowserRouter>\n      <App user={user} />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}